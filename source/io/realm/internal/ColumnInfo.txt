
.. contents:: On this page
   :local:
   :backlinks: none
   :depth: 2
   :class: singlecol



Class ColumnInfo
^^^^^^^^^^^^^^^^

.. _io_realm_internal_ColumnInfo:



io.realm.internal
=================

`java.lang.Object <https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html>`__ 

The Subclasses of this are a fast cache of column indices, for proxy object.The fast cache functionality is implemented in the Proxy classes generated by ``RealmProxyClassGenerator`` . Every proxy object will hold an reference of its ``ColumnInfo`` . The ref to the ``ColumnInfo``  instance is maintained by the :ref:`ColumnIndices <io_realm_internal_ColumnIndices>` . As long as the reference in proxy object has been set, it should never be changed. When schema changes, the relevant ``ColumnInfo``  instance's content will be refreshed therefore the proxy object could have the latest column indices. Be sure to understand what is going on there, before changing things here.



While the use of the fields in ``ColumnDetails``  is consistent, there are three subtly different cases:





- If the column type is a simple type, the ``linkedClassName``  field is ``null`` 
   
   
   
   
- If the column type is OBJECT or LINK, the ``linkedClassName``  field is the class name of the OBJECT/LINK type
   
   
   
   
- If the column type is LINKING_OBJECT, the ``linkedClassName``  field is the class name of the backlink source table and the column index field is the index of the backlink source field, in the source table
   
   
   
   


The instance of this class is dedicated to a single :ref:`OsSharedRealm <io_realm_internal_OsSharedRealm>`  instance. Thus this is not supposed to be used across threads. An instance can be mutated, after construction, in four ways:





- the ``copyFrom``  method
   
   
   
   
- as the dst parameter of the two-argument copy method
   
   
- using the ``addColumnDetails``  method
   
   
   
   
- using the ``addBacklinkDetails``  method
   
   
   
   


Immutable instances of this class protect against the first possibility by throwing on calls to ``copyFrom`` . There are no checks against the other three mutations. In order to comply with the effectively-final contract:



- the methods ``addColumnDetails``  and ``addBacklinkDetails``  must be called only from within instance constructors
   
   
   
   
- an immutable instance must never be the dst parameter of the two-argument copy method
   
   





Constructors
============



- ``io.realm.internal.ColumnInfo(int)`` 
- ``io.realm.internal.ColumnInfo(ColumnInfo, boolean)`` 




Nested Class Summary
====================

.. list-table::
   :header-rows: 1
   
   * - Modifier and Type
     - Class and Description
   
   * - ``public static final`` 
     - ``io.realm.internal.ColumnInfo.ColumnDetails`` 
   
   


Method Summary
==============

.. list-table::
   :header-rows: 1
   
   * - Modifier and Type
     - Method and Description
   
   * - 
       protected final **void**
     - 
       :ref:`addBacklinkDetails <io_realm_internal_ColumnInfo_addBacklinkDetails_OsSchemaInfo__String__String__String_>`  (:ref:`OsSchemaInfo <io_realm_internal_OsSchemaInfo>`  schemaInfo,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  sourceTableName,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  sourceJavaFieldName)
       
       Add a new backlink to the indexMap.
       
       
       
   
   * - 
       protected final **long**
     - 
       :ref:`addColumnDetails <io_realm_internal_ColumnInfo_addColumnDetails_String__String__OsObjectSchemaInfo_>`  (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName,
                                               `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  internalColumnName,
                                               :ref:`OsObjectSchemaInfo <io_realm_internal_OsObjectSchemaInfo>`  objectSchemaInfo)
       
       Add a new column to the indexMap.
       
       
       
   
   * - 
       protected abstract **void**
     - 
       :ref:`copy <io_realm_internal_ColumnInfo_copy_ColumnInfo__ColumnInfo_>`  (:ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  src,
                                      :ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  dst)
       
       Make ``dst``  into an exact copy of ``src`` .
       
       
       
       
       
   
   * - 
       protected abstract :ref:`ColumnInfo <io_realm_internal_ColumnInfo>` 
     - 
       :ref:`copy <io_realm_internal_ColumnInfo_copy_boolean_>`  (**boolean** mutable)
       
       Create a new object that is an exact copy of ``src`` .
       
       
       
       
       
   
   * - 
       public **void**
     - 
       :ref:`copyFrom <io_realm_internal_ColumnInfo_copyFrom_ColumnInfo_>`  (:ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  src)
       
       Makes this ColumnInfo an exact copy of ``src`` .
       
       
       
       
       
   
   * - 
       public :ref:`ColumnInfo.ColumnDetails <io_realm_internal_ColumnInfo_ColumnDetails>` 
     - 
       :ref:`getColumnDetails <io_realm_internal_ColumnInfo_getColumnDetails_String_>`  (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
       
       Returns the :ref:`ColumnDetails <io_realm_internal_ColumnInfo_ColumnDetails>` , in the described table, of the named column.
       
       
       
       
       
   
   * - 
       public **long**
     - 
       :ref:`getColumnKey <io_realm_internal_ColumnInfo_getColumnKey_String_>`  (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
       
       Returns the column key, in the described table, for the named column.
       
       
       
   
   * - 
       public `Map <https://docs.oracle.com/javase/7/docs/api/java/util/Map.html>`__ 
     - 
       :ref:`getColumnKeysMap <io_realm_internal_ColumnInfo_getColumnKeysMap__>`  ()
       
       Returns the `Map <https://docs.oracle.com/javase/7/docs/api/java/util/Map.html>`__  that is the implementation for this object.
       
       
       
       
       
   
   * - 
       public `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__ 
     - 
       :ref:`getInternalFieldName <io_realm_internal_ColumnInfo_getInternalFieldName_String_>`  (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
       
       Returns the internal field name that corresponds to the name found in the Java model class.
       
       
       
   
   * - 
       public final **boolean**
     - 
       :ref:`isMutable <io_realm_internal_ColumnInfo_isMutable__>`  ()
       
       Get the mutability state of the instance.
       
       
       
   
   * - 
       public `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__ 
     - 
       :ref:`toString <io_realm_internal_ColumnInfo_toString__>`  ()
       
       
       
       
       
   
   


Inherited Methods
=================



- Methods inherited from interface `java.lang.Object <https://docs.oracle.com/javase/7/docs/api/java/lang/Object.html>`__ : 
   
   ``getClass`` , ``hashCode`` , ``equals`` , ``clone`` , ``toString`` , ``notify`` , ``notifyAll`` , ``wait`` , ``wait`` , ``wait`` , ``finalize`` 
   
   




Method Detail
=============

.. _addBacklinkDetails:

.. _addBacklinkDetails__:

.. _ColumnInfo_addBacklinkDetails:

.. _ColumnInfo_addBacklinkDetails__:

.. _io_realm_internal_ColumnInfo_addBacklinkDetails:

.. _io_realm_internal_ColumnInfo_addBacklinkDetails__:



addBacklinkDetails
------------------

.. _io_realm_internal_ColumnInfo_addBacklinkDetails_OsSchemaInfo__String__String__String_:

.. _io_realm_internal_ColumnInfo_addBacklinkDetails_OsSchemaInfo_String_String_String_:

.. list-table::
   :header-rows: 1
   
   * -    protected final **void** addBacklinkDetails (:ref:`OsSchemaInfo <io_realm_internal_OsSchemaInfo>`  schemaInfo,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  sourceTableName,
                                                 `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  sourceJavaFieldName)
   
   * - Add a new backlink to the indexMap. **For use only by subclasses!**. Must be called from within the subclass constructor, to maintain the effectively-final contract.
       
       
       
       
       **Parameters**
       
       - ``schemaInfo`` - the :ref:`OsSchemaInfo <io_realm_internal_OsSchemaInfo>`  of the corresponding ``Realm``  instance.
          
          
          
          
          
       - ``javaFieldName`` - The name of the backlink column.
          
          
          
       - ``sourceTableName`` - The name of the backlink source class.
          
          
          
       - ``sourceJavaFieldName`` - The name of the backlink source field.
          
          
          
       
       
       
       
       
       
       
       
       
   
   
.. _addColumnDetails:

.. _addColumnDetails__:

.. _ColumnInfo_addColumnDetails:

.. _ColumnInfo_addColumnDetails__:

.. _io_realm_internal_ColumnInfo_addColumnDetails:

.. _io_realm_internal_ColumnInfo_addColumnDetails__:



addColumnDetails
----------------

.. _io_realm_internal_ColumnInfo_addColumnDetails_String__String__OsObjectSchemaInfo_:

.. _io_realm_internal_ColumnInfo_addColumnDetails_String_String_OsObjectSchemaInfo_:

.. list-table::
   :header-rows: 1
   
   * -    protected final **long** addColumnDetails (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName,
                                               `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  internalColumnName,
                                               :ref:`OsObjectSchemaInfo <io_realm_internal_OsObjectSchemaInfo>`  objectSchemaInfo)
   
   * - Add a new column to the indexMap.**For use only in subclass constructors!**. Must be called from within the subclass constructor, to maintain the effectively-final contract.
       
       No validation done here. Presuming that all necessary validation takes place in ``Proxy.validateTable`` .
       
       
       
       
       
       
       
       
       **Parameters**
       
       - ``javaFieldName`` - The name of the java field name.
          
          
          
       - ``internalColumnName`` - The underlying column name in the Realm file for the Java field name.
          
          
          
       - ``objectSchemaInfo`` - the :ref:`OsObjectSchemaInfo <io_realm_internal_OsObjectSchemaInfo>`  for the corresponding ``RealmObject`` .
          
          
          
          
          
       
       
       
       
       
       
       
       
       
   
   
.. _copy:

.. _copy__:

.. _ColumnInfo_copy:

.. _ColumnInfo_copy__:

.. _io_realm_internal_ColumnInfo_copy:

.. _io_realm_internal_ColumnInfo_copy__:



copy
----

.. _io_realm_internal_ColumnInfo_copy_ColumnInfo__ColumnInfo_:

.. _io_realm_internal_ColumnInfo_copy_ColumnInfo_ColumnInfo_:

.. list-table::
   :header-rows: 1
   
   * -    protected abstract **void** copy (:ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  src,
                                      :ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  dst)
   
   * - Make ``dst``  into an exact copy of ``src`` . Intended for use only by subclasses. NOTE: there is no protection against calling this method with an "immutable" instance as dst!
       
       
       
       
       
       
       **Parameters**
       
       - ``src`` - The source for the copy
          
          
          
       - ``dst`` - The destination of the copy. Will be an exact copy of src after return.
          
          
          
       
       
       
       
       
       
       
       
       
   
   
.. _io_realm_internal_ColumnInfo_copy_boolean_:

.. list-table::
   :header-rows: 1
   
   * -    protected abstract :ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  copy (**boolean** mutable)
   
   * - Create a new object that is an exact copy of ``src`` . This is the generic factory for ColumnInfo objects. Subclasses are expected to override it with a proxy to a copy constructor.
       
       
       
       
       
       
       **Parameters**
       
       - ``mutable`` - false to make an immutable copy.
          
          
          
       
       
       
       
       
       
       
       
       
   
   
.. _copyFrom:

.. _copyFrom__:

.. _ColumnInfo_copyFrom:

.. _ColumnInfo_copyFrom__:

.. _io_realm_internal_ColumnInfo_copyFrom:

.. _io_realm_internal_ColumnInfo_copyFrom__:



copyFrom
--------

.. _io_realm_internal_ColumnInfo_copyFrom_ColumnInfo_:

.. list-table::
   :header-rows: 1
   
   * -    public **void** copyFrom (:ref:`ColumnInfo <io_realm_internal_ColumnInfo>`  src)
   
   * - Makes this ColumnInfo an exact copy of ``src`` .
       
       
       
       
       
       
       **Parameters**
       
       - ``src`` - The source for the copy. This instance will be an exact copy of ``src``  after return. ``src``  must not be ``null`` .
          
          
          
          
          
       
       
       
       
       
       
       **Throws**
       
       - `IllegalArgumentException <https://docs.oracle.com/javase/7/docs/api/java/lang/IllegalArgumentException.html>`__  - if ``other``  has different class than this.
          
          
          
          
          
       
       
       
       
       
   
   
.. _getColumnDetails:

.. _getColumnDetails__:

.. _ColumnInfo_getColumnDetails:

.. _ColumnInfo_getColumnDetails__:

.. _io_realm_internal_ColumnInfo_getColumnDetails:

.. _io_realm_internal_ColumnInfo_getColumnDetails__:



getColumnDetails
----------------

.. _io_realm_internal_ColumnInfo_getColumnDetails_String_:

.. list-table::
   :header-rows: 1
   
   * -    public :ref:`ColumnInfo.ColumnDetails <io_realm_internal_ColumnInfo_ColumnDetails>`  getColumnDetails (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
   
   * - Returns the :ref:`ColumnDetails <io_realm_internal_ColumnInfo_ColumnDetails>` , in the described table, of the named column.
       
       
       
       
       
       
       
       
       
       
       
       
       
   
   
.. _getColumnKey:

.. _getColumnKey__:

.. _ColumnInfo_getColumnKey:

.. _ColumnInfo_getColumnKey__:

.. _io_realm_internal_ColumnInfo_getColumnKey:

.. _io_realm_internal_ColumnInfo_getColumnKey__:



getColumnKey
------------

.. _io_realm_internal_ColumnInfo_getColumnKey_String_:

.. list-table::
   :header-rows: 1
   
   * -    public **long** getColumnKey (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
   
   * - Returns the column key, in the described table, for the named column.
       
       
       
       
       
       
       
       
       
       
       
   
   
.. _getColumnKeysMap:

.. _getColumnKeysMap__:

.. _ColumnInfo_getColumnKeysMap:

.. _ColumnInfo_getColumnKeysMap__:

.. _io_realm_internal_ColumnInfo_getColumnKeysMap:

.. _io_realm_internal_ColumnInfo_getColumnKeysMap__:



getColumnKeysMap
----------------

.. _io_realm_internal_ColumnInfo_getColumnKeysMap__:

.. list-table::
   :header-rows: 1
   
   * -    public `Map <https://docs.oracle.com/javase/7/docs/api/java/util/Map.html>`__  getColumnKeysMap ()
   
   * - Returns the `Map <https://docs.oracle.com/javase/7/docs/api/java/util/Map.html>`__  that is the implementation for this object. 
       
       **FOR TESTING USE ONLY!**
       
       
       
       
       
       
       
       
       
       
       
   
   
.. _getInternalFieldName:

.. _getInternalFieldName__:

.. _ColumnInfo_getInternalFieldName:

.. _ColumnInfo_getInternalFieldName__:

.. _io_realm_internal_ColumnInfo_getInternalFieldName:

.. _io_realm_internal_ColumnInfo_getInternalFieldName__:



getInternalFieldName
--------------------

.. _io_realm_internal_ColumnInfo_getInternalFieldName_String_:

.. list-table::
   :header-rows: 1
   
   * -    public `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  getInternalFieldName (`String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  javaFieldName)
   
   * - Returns the internal field name that corresponds to the name found in the Java model class.
       
       
       
       
       **Parameters**
       
       - ``javaFieldName`` - the field name in the Java model class.
          
          
          
       
       
       
       
       
       
       
       
       
   
   
.. _isMutable:

.. _isMutable__:

.. _ColumnInfo_isMutable:

.. _ColumnInfo_isMutable__:

.. _io_realm_internal_ColumnInfo_isMutable:

.. _io_realm_internal_ColumnInfo_isMutable__:



isMutable
---------

.. _io_realm_internal_ColumnInfo_isMutable__:

.. list-table::
   :header-rows: 1
   
   * -    public final **boolean** isMutable ()
   
   * - Get the mutability state of the instance.
       
       
       
       
       
       
       
       
       
       
       
   
   
.. _toString:

.. _toString__:

.. _ColumnInfo_toString:

.. _ColumnInfo_toString__:

.. _io_realm_internal_ColumnInfo_toString:

.. _io_realm_internal_ColumnInfo_toString__:



toString
--------

.. _io_realm_internal_ColumnInfo_toString__:

.. list-table::
   :header-rows: 1
   
   * -    public `String <https://docs.oracle.com/javase/7/docs/api/java/lang/String.html>`__  toString ()
   
   * - 
       
       
       
       
       
       
       
       
       
       
       
   
   

